<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:ATG_Notifier.Desktop"
    xmlns:controls="clr-namespace:ATG_Notifier.Desktop.WPF.Controls"
    xmlns:sys="clr-namespace:System;assembly=mscorlib">
    
    <!--#region Message Card resources -->

    <sys:Double x:Key="MessageCardIconHeight">16</sys:Double>
    <sys:Double x:Key="MessageCardIconWidth">16</sys:Double>
    <Thickness x:Key="MessageCardIconMargin">0,0,10,0</Thickness>

    <SolidColorBrush x:Key="InfoMessageBackground" Color="#FFF3F2F1"/>
    <SolidColorBrush x:Key="InfoMessageIconForeground" Color="#FF575757"/>

    <SolidColorBrush x:Key="WarningMessageBackground" Color="#FFFFF4CE"/>
    <SolidColorBrush x:Key="WarningMessageIconForeground" Color="#FF000000"/>

    <SolidColorBrush x:Key="ErrorMessageBackground" Color="#FFFDE7E9"/>
    <SolidColorBrush x:Key="ErrorMessageIconForeground" Color="#FFA4262C"/>

    <SolidColorBrush x:Key="SuccessMessageBackground" Color="#FFDFF6DD"/>
    <SolidColorBrush x:Key="SuccessMessageIconForeground" Color="#FF107C10"/>

    <SolidColorBrush x:Key="ActionTextForegound" Color="#FF005A9E"/>
    <SolidColorBrush x:Key="ActionTextForegoundMouseOver" Color="#FF004578"/>

    <!--#endregion-->

    <!--#region Icons -->

    <!-- Info icon -->
    <DataTemplate x:Key="IconInfoTemplateKey">
        <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ContentControl}}"
              Stretch="UniformToFill"
              Data="M480,960C435.667,960 393.083,954.333 352.25,943C311.417,931.667 273.167,915.583 237.5,894.75C201.833,873.917 169.417,848.917 140.25,819.75C111.083,790.583 86.0833,758.167 65.25,722.5C44.4167,686.833 28.3333,648.583 17,607.75C5.66667,566.917 0,524.333 0,480C0,435.667 5.66667,393.083 17,352.25C28.3333,311.417 44.4167,273.167 65.25,237.5C86.0833,201.833 111.083,169.417 140.25,140.25C169.417,111.083 201.833,86.0834 237.5,65.25C273.167,44.4168 311.417,28.3334 352.25,17C393.083,5.66669 435.667,0 480,0C524.333,0 566.917,5.66669 607.75,17C648.583,28.3334 686.833,44.4168 722.5,65.25C758.167,86.0834 790.583,111.083 819.75,140.25C848.917,169.417 873.917,201.833 894.75,237.5C915.583,273.167 931.667,311.417 943,352.25C954.333,393.083 960,435.667 960,480C960,524.333 954.333,566.917 943,607.75C931.667,648.583 915.583,686.833 894.75,722.5C873.917,758.167 848.917,790.583 819.75,819.75C790.583,848.917 758.167,873.917 722.5,894.75C686.833,915.583 648.583,931.667 607.75,943C566.917,954.333 524.333,960 480,960ZM480,64C441.667,64.0001 404.833,69.0001 369.5,79C334.167,89.0001 301.083,103 270.25,121C239.417,139 211.333,160.667 186,186C160.667,211.333 139,239.417 121,270.25C103,301.083 89,334.25 79,369.75C69,405.25 64,442 64,480C64,518 69,554.75 79,590.25C89,625.75 103,658.917 121,689.75C139,720.583 160.667,748.667 186,774C211.333,799.333 239.417,821 270.25,839C301.083,857 334.167,871 369.5,881C404.833,891 441.667,896 480,896C518,896 554.75,891 590.25,881C625.75,871 658.917,857 689.75,839C720.583,821 748.667,799.333 774,774C799.333,748.667 821,720.583 839,689.75C857,658.917 871,625.833 881,590.5C891,555.167 896,518.333 896,480C896,442 891,405.25 881,369.75C871,334.25 857,301.083 839,270.25C821,239.417 799.333,211.333 774,186C748.667,160.667 720.583,139 689.75,121C658.917,103 625.75,89.0001 590.25,79C554.75,69.0001 518,64.0001 480,64ZM448,384L512,384L512,704L448,704ZM448,256L512,256L512,320L448,320Z"/>
    </DataTemplate>

    <!-- Warning icon -->
    <DataTemplate x:Key="IconWarningTemplateKey">
        <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ContentControl}}"
              Stretch="UniformToFill"
              Data="M960,960L0,960L480,0ZM103.5,896L856.5,896L480,143ZM512,384L512,704L448,704L448,384ZM448,768L512,768L512,832L448,832Z"/>
    </DataTemplate>

    <!-- Error icon -->
    <DataTemplate x:Key="IconErrorTemplateKey">
        <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ContentControl}}"
              Stretch="UniformToFill"
              Data="M512,0C559,0 604.333,6.08337 648,18.25C691.667,30.4167 732.417,47.6667 770.25,70C808.083,92.3334 842.583,119.083 873.75,150.25C904.917,181.417 931.667,215.917 954,253.75C976.333,291.583 993.583,332.333 1005.75,376C1017.92,419.667 1024,465 1024,512C1024,559 1017.92,604.333 1005.75,648C993.583,691.667 976.333,732.417 954,770.25C931.667,808.083 904.917,842.583 873.75,873.75C842.583,904.917 808.083,931.667 770.25,954C732.417,976.333 691.667,993.583 648,1005.75C604.333,1017.92 559,1024 512,1024C465,1024 419.667,1017.92 376,1005.75C332.333,993.583 291.583,976.333 253.75,954C215.917,931.667 181.417,904.917 150.25,873.75C119.083,842.583 92.3333,808.083 70,770.25C47.6667,732.417 30.4167,691.667 18.25,648C6.08333,604.333 0,559 0,512C0,465 6.08333,419.667 18.25,376C30.4167,332.333 47.6667,291.583 70,253.75C92.3333,215.917 119.083,181.417 150.25,150.25C181.417,119.083 215.917,92.3334 253.75,70C291.583,47.6667 332.333,30.4167 376,18.25C419.667,6.08337 465,0 512,0ZM512,960C553.333,960 593.083,954.667 631.25,944C669.417,933.333 705.083,918.25 738.25,898.75C771.417,879.25 801.583,855.917 828.75,828.75C855.917,801.583 879.25,771.417 898.75,738.25C918.25,705.083 933.333,669.417 944,631.25C954.667,593.083 960,553.333 960,512C960,470.667 954.667,430.917 944,392.75C933.333,354.583 918.25,318.917 898.75,285.75C879.25,252.583 855.917,222.417 828.75,195.25C801.583,168.083 771.417,144.75 738.25,125.25C705.083,105.75 669.417,90.6667 631.25,80C593.083,69.3334 553.333,64.0001 512,64C470.667,64.0001 430.917,69.3334 392.75,80C354.583,90.6667 318.917,105.75 285.75,125.25C252.583,144.75 222.417,168.083 195.25,195.25C168.083,222.417 144.75,252.583 125.25,285.75C105.75,318.917 90.6667,354.583 80,392.75C69.3333,430.917 64,470.667 64,512C64,553.333 69.3333,593.083 80,631.25C90.6667,669.417 105.75,705.083 125.25,738.25C144.75,771.417 168.083,801.583 195.25,828.75C222.417,855.917 252.583,879.25 285.75,898.75C318.917,918.25 354.583,933.333 392.75,944C430.917,954.667 470.667,960 512,960ZM733.5,335.5L557.5,512L733.5,688.5L688.5,733.5L512,557.5L335.5,733.5L290.5,688.5L466.5,512L290.5,335.5L335.5,290.5L512,466.5L688.5,290.5Z"/>
    </DataTemplate>

    <!-- Success icon -->
    <DataTemplate x:Key="IconSuccessTemplateKey">
        <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ContentControl}}"
              Stretch="UniformToFill"
              Data="M745.5,297.5L790.5,342.5L416,717L233.5,534.5L278.5,489.5L416,627ZM512,0C559,0 604.333,6.08337 648,18.25C691.667,30.4167 732.5,47.5834 770.5,69.75C808.5,91.9167 843.083,118.583 874.25,149.75C905.417,180.917 932.083,215.5 954.25,253.5C976.417,291.5 993.583,332.333 1005.75,376C1017.92,419.667 1024,465 1024,512C1024,559 1017.92,604.333 1005.75,648C993.583,691.667 976.417,732.5 954.25,770.5C932.083,808.5 905.417,843.083 874.25,874.25C843.083,905.417 808.5,932.083 770.5,954.25C732.5,976.417 691.667,993.583 648,1005.75C604.333,1017.92 559,1024 512,1024C465,1024 419.667,1017.92 376,1005.75C332.333,993.583 291.5,976.417 253.5,954.25C215.5,932.083 180.917,905.417 149.75,874.25C118.583,843.083 91.9167,808.5 69.75,770.5C47.5833,732.5 30.4167,691.75 18.25,648.25C6.08333,604.75 0,559.333 0,512C0,465 6.08333,419.667 18.25,376C30.4167,332.333 47.5833,291.5 69.75,253.5C91.9167,215.5 118.583,180.917 149.75,149.75C180.917,118.583 215.5,91.9167 253.5,69.75C291.5,47.5834 332.25,30.4167 375.75,18.25C419.25,6.08337 464.667,0 512,0ZM512,960C553,960 592.583,954.667 630.75,944C668.917,933.333 704.583,918.25 737.75,898.75C770.917,879.25 801.167,855.833 828.5,828.5C855.833,801.167 879.25,770.917 898.75,737.75C918.25,704.583 933.333,669 944,631C954.667,593 960,553.333 960,512C960,471 954.667,431.417 944,393.25C933.333,355.083 918.25,319.417 898.75,286.25C879.25,253.083 855.833,222.833 828.5,195.5C801.167,168.167 770.917,144.75 737.75,125.25C704.583,105.75 668.917,90.6667 630.75,80C592.583,69.3334 553,64.0001 512,64C471,64.0001 431.417,69.3334 393.25,80C355.083,90.6667 319.417,105.75 286.25,125.25C253.083,144.75 222.833,168.167 195.5,195.5C168.167,222.833 144.75,253.083 125.25,286.25C105.75,319.417 90.6667,355.083 80,393.25C69.3333,431.417 64,471 64,512C64,553 69.3333,592.583 80,630.75C90.6667,668.917 105.75,704.583 125.25,737.75C144.75,770.917 168.167,801.167 195.5,828.5C222.833,855.833 253.083,879.25 286.25,898.75C319.417,918.25 355,933.333 393,944C431,954.667 470.667,960 512,960Z"/>
    </DataTemplate>

    <!-- Close icon -->
    <DataTemplate x:Key="IconCloseTemplateKey">
        <Viewbox>
            <Path Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ContentControl}}"
                  Stretch="UniformToFill"
                  Data="M436,390.5L781,736L736,781L390.5,436L45,781L0,736L345,390.5L0,45L45,0L390.5,345L736,0L781,45Z"/>
        </Viewbox>
    </DataTemplate>

    <!--#endregion-->

    <Style x:Key="InfoBannerHyperlinkStyle" TargetType="Hyperlink">
        <Setter Property="Foreground" Value="{StaticResource ActionTextForegound}"/>
        <Setter Property="TextDecorations" Value="None"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Foreground" Value="{StaticResource ActionTextForegoundMouseOver}" />
                <Setter Property="TextDecorations" Value="Underline"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Message Card -->
    <Style TargetType="controls:MessageCard">
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:MessageCard">
                    <Grid x:Name="Root">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="LayoutStates">
                                <VisualState x:Name="StateWrapped">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionTextTextBlock"
                                                                       Storyboard.TargetProperty="(Grid.Row)">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <sys:Int32>1</sys:Int32>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionTextTextBlock"
                                                                       Storyboard.TargetProperty="(Grid.Column)">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <sys:Int32>1</sys:Int32>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_MessageTextBlock" 
                                                                       Storyboard.TargetProperty="Margin">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Thickness>0,0,15,0</Thickness>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionTextTextBlock" 
                                                                       Storyboard.TargetProperty="Margin">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Thickness>0,10,15,5</Thickness>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="StateExpanded">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionTextTextBlock"
                                                                       Storyboard.TargetProperty="(Grid.Row)">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <sys:Int32>0</sys:Int32>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionTextTextBlock"
                                                                       Storyboard.TargetProperty="(Grid.Column)">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <sys:Int32>2</sys:Int32>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_MessageTextBlock" 
                                                                       Storyboard.TargetProperty="Margin">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Thickness>0,0,20,0</Thickness>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ActionTextTextBlock" 
                                                                       Storyboard.TargetProperty="Margin">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Thickness>0,0,15,0</Thickness>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>

                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <Border x:Name="RootBorder" 
                                Grid.Row="1" 
                                BorderBrush="Transparent"
                                HorizontalAlignment="Stretch">
                            <Grid x:Name="ContentGrid" 
                                  Margin="7">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Grid Grid.Column="0"
                                        HorizontalAlignment="Left">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Viewbox x:Name="IconPresenterViewbox" 
                                             Grid.Column="0"
                                             VerticalAlignment="Top"
                                             Height="{StaticResource MessageCardIconHeight}" 
                                             Width="{StaticResource MessageCardIconWidth}"
                                             Margin="{StaticResource MessageCardIconMargin}">
                                        <ContentControl x:Name="PART_IconPresenter"/>
                                    </Viewbox>
                                    <TextBlock x:Name="PART_MessageTextBlock" 
                                               Grid.Column="1" 
                                               Text="{Binding Text, Mode=OneTime}"
                                               TextWrapping="Wrap"/>
                                    <TextBlock x:Name="PART_ActionTextTextBlock"
                                               Margin="0,0,15,0">
                                        <Hyperlink x:Name="PART_MessageActionHyperlink" 
                                                   Command="{Binding ActionCommand, Mode=OneTime}"
                                                   Style="{StaticResource InfoBannerHyperlinkStyle}">
                                            <Run Text="{Binding ActionText, Mode=OneTime}"/>
                                        </Hyperlink>
                                    </TextBlock>
                                </Grid>
                                <Button x:Name="PART_CloseButton" 
                                        Grid.Column="1" 
                                        VerticalAlignment="Top"
                                        Width="12" Height="12"
                                        Cursor="Hand"
                                        ContentTemplate="{StaticResource IconCloseTemplateKey}"
                                        BorderBrush="Transparent"
                                        ToolTip="Close"
                                        ToolTipService.InitialShowDelay="1000"
                                        ToolTipService.ShowDuration="2000">
                                    <Button.Style>
                                        <Style TargetType="Button">
                                            <Setter Property="Foreground" Value="#FF8C8C8D"/>
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border Background="{TemplateBinding Background}"
                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                BorderThickness="{TemplateBinding BorderThickness}">
                                                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                              Focusable="False"/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Foreground" Value="#FF4A4A4A" />
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter Property="Foreground" Value="#FF000000" />
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="ActionText" Value="{x:Null}">
                            <Setter TargetName="PART_ActionTextTextBlock" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="Type" Value="{x:Static controls:MessageCardType.Info}">
                            <Setter TargetName="RootBorder" Property="Background" Value="{StaticResource InfoMessageBackground}" />
                            <Setter TargetName="PART_IconPresenter" Property="ContentTemplate" Value="{StaticResource IconInfoTemplateKey}" />
                            <Setter TargetName="PART_IconPresenter" Property="Foreground" Value="{StaticResource InfoMessageIconForeground}" />
                        </Trigger>
                        <Trigger Property="Type" Value="{x:Static controls:MessageCardType.Warning}">
                            <Setter TargetName="RootBorder" Property="Background" Value="{StaticResource WarningMessageBackground}" />
                            <Setter TargetName="PART_IconPresenter" Property="ContentTemplate" Value="{StaticResource IconWarningTemplateKey}" />
                            <Setter TargetName="PART_IconPresenter" Property="Foreground" Value="{StaticResource WarningMessageIconForeground}" />
                        </Trigger>
                        <Trigger Property="Type" Value="{x:Static controls:MessageCardType.Error}">
                            <Setter TargetName="RootBorder" Property="Background" Value="{StaticResource ErrorMessageBackground}" />
                            <Setter TargetName="PART_IconPresenter" Property="ContentTemplate" Value="{StaticResource IconErrorTemplateKey}" />
                            <Setter TargetName="PART_IconPresenter" Property="Foreground" Value="{StaticResource ErrorMessageIconForeground}" />
                        </Trigger>
                        <Trigger Property="Type" Value="{x:Static controls:MessageCardType.Success}">
                            <Setter TargetName="RootBorder" Property="Background" Value="{StaticResource SuccessMessageBackground}" />
                            <Setter TargetName="PART_IconPresenter" Property="ContentTemplate" Value="{StaticResource IconSuccessTemplateKey}" />
                            <Setter TargetName="PART_IconPresenter" Property="Foreground" Value="{StaticResource SuccessMessageIconForeground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
